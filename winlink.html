<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html style="direction: ltr;" xmlns="http://www.w3.org/1999/xhtml">
<head>




  
  
  
  <meta http-equiv="content-type" content="application/xhtml+xml; charset=ISO-8859-1" />




  
  
  
  <meta http-equiv="refresh" content="300" />



  


  
  
  
  
  
  <title>NEMOARC Setting up winlink with direwolf</title>
  <link type="text/css" rel="stylesheet" href="style.css" />




  
  
  
  <meta name="author" content="Alex Fleak" />




  
  
  
  <meta name="description" content="Local ARRL affilliated club in Northeast Missouri" />




  
  
  
  <meta name="keywords" content="HAM Radio Make Homebrew Electronics" />
</head>


<body>




<div class="header1">
<div class="nav-bg-outer">
<div class="nav-bg">
<div class="nav-bg-inner" style="margin-left: 84px;"><a class="nav" href="/index.html">Home</a> | <a class="nav" href="/index.html"><strong></strong></a><strong><a href="photos.html" class="nav">Photos</a> | <a href="licensing.html" class="nav">Get Licensed</a>
| <a href="ares/index.html" class="nav">ARES</a>|
<a href="fieldday.html" class="nav">Field Day</a>&nbsp;| <a href="projects.html" class="nav">Member
Projects</a> |&nbsp;<span style="color: rgb(0, 102, 153);"></span></strong></div>




</div>




</div>




</div>




<div class="header2">
<h1><span style="font-family: Verdana;">Northeast
Missouri Amateur Radio Club</span></h1>




<div style="margin-top: -5px;">Serving Adair County and
the Surrounding Area</div>




</div>




<div class="footer">
<h1>Setting up Winlink and Direwolf for our local node</h1>




<br />




<span style="color: rgb(34, 34, 34); font-family: arial,sans-serif; font-size: 12.8px; font-style: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; background-color: rgb(255, 255, 255); display: inline ! important; float: none;"></span>
<div style="color: rgb(34, 34, 34); font-family: arial,sans-serif; font-size: 12.8px; font-style: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; background-color: rgb(255, 255, 255);"><br />




</div>




<div style="color: rgb(34, 34, 34); font-family: arial,sans-serif; font-size: 12.8px; font-style: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; background-color: rgb(255, 255, 255); text-align: left;"><big><big style="font-weight: bold;">AB0DK has been gracious enough to provide a winlink node in our area so &nbsp;lets get it setup for use in our shack<br />


</big>

<big></big></big></div>


<div style="color: rgb(34, 34, 34); font-family: arial,sans-serif; font-size: 12.8px; font-style: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; background-color: rgb(255, 255, 255); text-align: left;"><big>&nbsp;<big><br />


What you will need to get started</big><br />


<br />


1. A 2 meter fm radio which can be interfaced to a computer. This could
be as simple &nbsp;as a baofeng HT or as expensive as you want to go<br />


2. An interface to the radio. many radios have a usb interface built in
but if not you can use a signal link or it isn't hard to homebrew
&nbsp;an interface<br />


3. Direwolf which is a software TNC for packet radio. I am using version 1.5 as of this writing. Get it at <a href="https://github.com/wb2osz/direwolf/releases">https://github.com/wb2osz/direwolf/releases</a><br />


4.&nbsp;<a href="https://www.winlink.org/WinlinkExpress">Winlink express</a>
the software that sends and recieves the email. Has an editor to
compose the email as well. transfers emails through direwolf to your
radio.<br />


5. If you have an Icom radio such as a 7100&nbsp;9100 etc. that uses a
usb port to interface to your computer you will need one more peice of
software <a href="http://www.cantab.net/users/john.wiseman/Documents/CAT7200.html">CAT7200</a> which allows you to assert ptt to the radio via cat commands<br />


<br />


I watched this <a href="https://youtu.be/M6qKqxL59_w">video</a> to
learn how to configure direwolf with winlink express for my radio but
to distill it down to use with any radio do the following<br />


<br />


<span style="font-weight: bold;">Setting up direwolf</span><br />


Download direwolf from the above link and extract it to a folder of your choosing. I put mine in C:\direwolf<br />


go to that directory and right &nbsp;click on direwolf.conf and select edit with notepad or your favorite text editor<br />


In direwolf.conf any line starting with a # is a comment remove the # to make it so it can be read by direwolf.<br />


There are three things we need to add. look for a line that reads
MYCALL NOCALL remove the pound sign and Change the NOCALL to read as
your callsign use uppercase letters<br />


<br />


Next make sure the line that says MODEM 1200 is uncommented.I believe
that is the default but make sure. &nbsp;Also KISSPORT should be
uncommented and make note of the port number used. We will need it
for&nbsp; setting up winlink in a bit.<br />


<br />


Next find a line that begins ADEVICE usb&nbsp;remove the # and we are going to change the usb to what your sound device is<br />


For windows 10 &nbsp;If you right click on the voleme icon in your
system tray (looks like a speaker in lower right area of desktop) then
click sounds you will see&nbsp; &nbsp; your sound properties dialog.
click on the playback tab and find the sound device for your interface.
<br />


What that device is named is&nbsp;what we will use. you can actually
change this name if you right click click properties &nbsp;then type in
a new name in the box. I highly reccomend you do this as many usb
devices will be named usb 1 usb 2 etc. and this gets confusing. I
rename mine to match the name of my radio. &nbsp;Do the same with the
recording device under the recording tab. For earlier windows this same
thing can be done but the programs are accessed a bit differently.<br />


Back to direwolf.conf edit the ADEVICE line to match your sound device
names. Here is what mine looks like &nbsp;ADEVICE 7100 out 7100 in
&nbsp;I named my playback device for the ic-7100 radio &nbsp;7100 out
and the recording device 7100 in &nbsp;you will need two devices listed
on theis line one is for playback device and one is for recording
device. it is legal to name them the same thing.<br />


<br />


Next find the line that says PTT COM1 RTS and remove the # change com1
to the com port you use to assert PTT on your radio. if you go to
device manager and click on ports you can find what comports you have.
You may have more than one but you need to determine which one is your
interface port for the radio. &nbsp; For the icom usb radios see the
CAT7200 section below. A signal link device uses VOX so you won't need
to setup a PTT port for them.&nbsp; <br />


That should finish up Direwolf setup. Be sure to save your file and try
running direwolf. Ggreen lines are good and red lines are bad so if
nothing is red you should be fine. &nbsp;if not the program should give
you a good idea as to what is wrong.<br />


<br />


<span style="font-weight: bold;">Setting up winlink express</span><br />


setup your winlink account <a href="https://winlink.org/user">here</a> &nbsp;<br />


install winlink express and run it. &nbsp;Go to settings and click winlink &nbsp;express setup.<br />


You need to put in a call sign under MyCallsign &nbsp;then enter your
password given to you in the above step under MY Password &nbsp;put in
your regular email address in the pasword recovery email slot. Enter
your name and address &nbsp;info on the right hand area. Enter your
grid square and if you registered winlink express put in your
registration key then click update.&nbsp; <br />


Next back at he main screen at the top where it says open session make sure the drop down box is set to Packet Winlink.<br />


click on the icon that looks like a blank page at top right &nbsp;to
edit a new email. send it to anyone you like. if you like you can send
it to me kd0yte and i will reply to let you know it's working. Once you
have the email addressed and typed click on post to outbox. Now in the
folder list you will see outbox has one message. you are ready to send
it. click on open session at top. click on settings in that new
sessiion window. TNC type should be set to KISS mode to Normal Serial
port to TCP address leave at 127.0.0.1 and make sure the port is set to
the same address as in direwolf. In my copy of direwolf the port was
desfaulted to 8001. 8100 is also used in some programs but this port
has to be the same one in direwolf. make sure under TNC properties 1200
is checked. leave everything else as is and click update. We are now
ready to send that email. Make sure connection type is set to direct
and type into the box to the right AB0DK-10. make sure your radio is on
and tuned to 145.010.&nbsp; Click on start at top of the session window
and you should see activity in the direwolf window and your radio
should begin to transmit and you should see &nbsp;Connected to AB0DK-10
&nbsp;and a bunch of other things &nbsp;in the session window. finally
when done you should see a disconnect and you can close the session
window and you will see your message is no longer in the outbox.
Congrats.<br />


<br />


<span style="font-weight: bold;">setting up CAT7200 for those with&nbsp;newer icom radios<br />


<br />


</span>The newer icom radios use a usb port to provide cat control and
sound in and out for computer control. The problem is programs like
direwolf and sound modem do not use cat commands instead the just use a
simple com port to asset PTT. Icom doesnt provide this but someone was
nice enough to writr a program to do this. It is called CAT7200 and
includes a driver for a virtual comport that you can use with Direwolf
to assert PTT.<br />


Download CAT 7200 here<span style="font-weight: bold;"></span></big><big> <a href="http://www.cantab.net/users/john.wiseman/Documents/CAT7200.html">CAT7200</a></big><big>&nbsp;Once
you have it extract to a folder maybe c:\CAT7200 &nbsp;There are to
subfolders one for 32bit windows and one for 64bit windows. &nbsp;<br />


For windows 10 open device manager. click on the computer icon at top
of list. click action at top of window and click add legacy
hardware.&nbsp; &nbsp;Click next pick install the hardware that i
manually select from a list click next twice. from the list of devices
find and select Ports (com &amp; lpt) click next. Select standard pot
types and communications port and click have disk. &nbsp;navigate to
the CAT7200 folder and to the proper sub folder either vcom32 for 32bit
or vcom64 64bit and select the file and install. the port. you will
need to reboot your computer to finish. &nbsp;If windows complains
about it being an unsigned driver and refuses to install their is a
work around for that. see <a href="https://www.maketecheasier.com/install-unsigned-drivers-windows10/">this page</a>.
&nbsp;Once you have your computer re installed look in device manager
again to see what port the virtual port got assigned to. If you want
you can change this port number by right clicking on the port. clicking
properties go to &nbsp;port settings then click advanced and pick a
different port from the&nbsp;drop down list.<br />


Run CAT7200 and select your new virtual com port for application port.
then for cat port this is the port the radio supplies via usb. for me
it is com4 but you will need to &nbsp;find the right one. when you get
the port number entered enter the speed tou use then there is a civ
address box below this needs to be set to rthe civ address of your
radio. for an icom 7100 it is 88 for a 9100 it's 7C but look in your
manual or radios menus and find what yours is set to.<br />


click on open and click test. if it is setup right your radio should go
into ptt mode. click test again to stiop transmitting. Now edit
direwolf.conf and define the PTT port to your new virtual com port.
&nbsp;to use winlink you will first need to run cat 7200 and open the
port. leave it running, run direwolf then run winlink express.<br />

<big style="color: rgb(255, 0, 0);"><br style="font-weight: bold;" />

<span style="font-weight: bold;">Important Updates since this Document was created. </span></big>
<br />

<br />

AB0DK is not currently running his winlink VHF gateway However I now
have one running. change connection to AB0DK-10 in above instructions
to KD0YTE-10<br />

<br />

Also I recently picked up an Icom 9700 and am happy to report that it supports RTS style PTT via USB.<br />

Also newer versions of Direwolf can PTT via cat control using hamlib. <br />

PTT rig (rig#)<br />

<br />

 <br />


Enjoy&nbsp;<br />


<br />


<br />


&nbsp;<br />


<span></span><span class="aBn" data-term="goog_525571082" tabindex="0" style="border-bottom: 1px dashed rgb(204, 204, 204); position: relative; top: -2px; z-index: 0;"><span class="aQJ" style="position: relative; top: 2px; z-index: -1;"></span></span><span></span></big></div>


<div style="text-align: left;">

</div>


<br />




<br />




<br />




<br />




<br />




<br />




<br />




<br />




<br />




<br />




<br />




<br />




<br />




<br />




<br />




&nbsp; <br />




<br />




<br />




<br />




<br />




<br />




<br />




<br />




<br />




<br />




<br />




<br />




<br />




<br />




<br />




<br />




<br />




<br />




<br />




<br />




<br />




<br />




<br />




<br />




<br />




<br />




<br />




<br />




<br />




<br />




<br />




<br />




<br />




<br />




<br />




<br />




<br />




<br />




<br />




<br />




<br />




<br />




<br />




<br />




<br />




<br />




<br />




<br />




<br />




<br />




<br />




<br />




<br />




<br />




<br />




<br />




<br />




<br />




<br />




<br />




<br />




<br />




<br />




<br />




<br />




<br />




<br />




<br />




<br />




<br />




<br />




<br />




<br />




<br />




<br />




<br />




<br />




<br />




<br />




<br />




<br />




<br />




&copy; 2015 Nemoarc.org All rights reserved. Web design from a
template by:<!-- PLEASE DON'T REMOVE THE LINK --> <a title="The All Art Directory" href="http://www.allartdirectory.com/">All Art Directory</a><!-- THANKS AGAIN! -->
</div>




</body>
</html>
